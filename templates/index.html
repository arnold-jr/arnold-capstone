{% extends "base.html" %}
{% set active_page = "index" %}
{% block title %}AmeniDC Home{% endblock %}
{% block head %}
  {{ super() }}

  <!-- Bokeh resources -->
  {{ js_resources|indent(4)|safe }}
  {{ css_resources|indent(4)|safe }}
  {{ bokeh_script|indent(4)|safe }}
  <!--script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script-->
  <style>
    #bokeh_plot {
      margin: auto;
      width: 80%;
    }
  </style>

{% endblock head %}
{% block content %}
  <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron">
    <div class="container">
      <h1>AmeniDC</h1>
      <p> See the cost of living near amenities in the District of 
          Columbia
      </p>
    </div>
  </div>
  <div class="container">
    <!-- Example row of columns -->
    <div id="map" style="margin-left:auto; margin-right:auto;
      height: 80vh; width: 80vw"></div>

    <!-- include cartodb.js library -->
    <script src="http://libs.cartocdn.com/cartodb.js/v3/3.15/cartodb.js">
    </script>

    <script>
      function main() {
        cartodb.createVis('map', 
        'https://jarnold111.cartodb.com/api/v2/viz/08b0a752-d2a7-11e5-9ca8-0ecd1babdde5/viz.json', {
            shareable: false,
            title: false,
            description: true,
            search: false,
            tiles_loader: false,
            center_lat: 38.904722,
            center_lon: -77.016389,
            zoom: 12
        })
        .done(function(vis, layers) {
          // layer 0 is the base layer, layer 1 is cartodb layer
          // setInteraction is disabled by default
          layers[1].setInteraction(true);
          layers[1].on('featureOver', function(e, latlng, pos, data) {
            cartodb.log.log(e, latlng, pos, data);
          });
          // you can get the native map to work with it
          var map = vis.getNativeMap();
          // now, perform any operations you need
          // map.setZoom(3);
          // map.panTo([50.5, 30.5]);
        })
        .error(function(err) {
          console.log(err);
        });
      }
      window.onload = main;
    </script>

    <div id="bokeh_plot" >
      <h2 style="text-align: center;">{{ bokeh_zipcode }} </h2>
        <!-- Put the Bokeh plots here -->
        {{ bokeh_div|indent(4)|safe }}
    </div>

    <hr>
  </div> <!-- /container -->
  
  
    
{% endblock content%}
