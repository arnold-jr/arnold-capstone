{% extends "base.html" %}
{% set active_page = "index" %}
{% block title %}Index{% endblock %}
{% block head %}
  {{ super() }}
{% endblock head %}
{% block content %}
  <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron">
    <div class="container">
      <h1>AmeniDC</h1>
      <p> See the cost of living near amenities in the District of 
          Columbia
      </p>
      <!--p> 88% of the households of Washington, DC don't own a car,
          so living near to amenities 
          such as grocery stores, metro stations, and parks
          is at a premium within the District.
          The app AmeniDC aims to quantify just what that premium is, 
          allowing users to 
          quickly visualize relationships 
          between proximitity to amenities 
          and the cost of owning a private residence.
      </p-->
    </div>
  </div>
  <div class="container">
    <!-- Example row of columns -->
    <div id="map" style="margin-left:auto; margin-right:auto;
      height: 80vh; width: 80vw"></div>

    <!-- include cartodb.js library -->
    <script src="http://libs.cartocdn.com/cartodb.js/v3/3.15/cartodb.js">
    </script>

    <script>
      function main() {
        cartodb.createVis('map', 
        'https://jarnold111.cartodb.com/api/v2/viz/f059464c-cab7-11e5-85cc-0e3a376473ab/viz.json', {
            shareable: false,
            title: false,
            description: true,
            search: false,
            tiles_loader: false,
            center_lat: 38.904722,
            center_lon: -77.016389,
            zoom: 12
        })
        .done(function(vis, layers) {
          // layer 0 is the base layer, layer 1 is cartodb layer
          // setInteraction is disabled by default
          layers[1].setInteraction(true);
          layers[1].on('featureOver', function(e, latlng, pos, data) {
            cartodb.log.log(e, latlng, pos, data);
          });
          // you can get the native map to work with it
          var map = vis.getNativeMap();
          // now, perform any operations you need
          // map.setZoom(3);
          // map.panTo([50.5, 30.5]);
        })
        .error(function(err) {
          console.log(err);
        });
      }
      window.onload = main;
    </script>


    <hr>
  </div> <!-- /container -->
{% endblock content%}
